import{v as j,y as q,w as H,h as C,m as p,i as z,an as D,ao as G,ap as J,aq as Q,g as W,ar as X,F as P,as as Z,at as m,au as x,av as rr,aw as ar}from"./2vs6DXrE.js";import{l as er,j as ir,k as sr,m as tr,n as ur,o as fr,p as lr,q as or}from"./CZhPJN7P.js";import{t as cr,c as nr,s as _r}from"./DI_C0mM8.js";function vr(r,a){var e=void 0,i;j(()=>{e!==(e=a())&&(i&&(q(i),i=null),e&&(i=H(()=>{C(()=>e(r))})))})}function M(r,a={},e,i){for(var s in e){var f=e[s];a[s]!==f&&(e[s]==null?r.style.removeProperty(s):r.style.setProperty(s,f,i))}}function dr(r,a,e,i){var s=r.__style;if(p||s!==a){var f=cr(a,i);(!p||f!==r.getAttribute("style"))&&(f==null?r.removeAttribute("style"):r.style.cssText=f),r.__style=a}else i&&(Array.isArray(i)?(M(r,e==null?void 0:e[0],i[0]),M(r,e==null?void 0:e[1],i[1],"important")):M(r,e,i));return i}function N(r,a,e=!1){if(r.multiple){if(a==null)return;if(!z(a))return D();for(var i of r.options)i.selected=a.includes(k(i));return}for(i of r.options){var s=k(i);if(G(s,a)){i.selected=!0;return}}(!e||a!==void 0)&&(r.selectedIndex=-1)}function R(r){var a=new MutationObserver(()=>{N(r,r.__value)});a.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),J(()=>{a.disconnect()})}function Sr(r,a,e=a){var i=!0;er(r,"change",s=>{var f=s?"[selected]":":checked",v;if(r.multiple)v=[].map.call(r.querySelectorAll(f),k);else{var d=r.querySelector(f)??r.querySelector("option:not([disabled])");v=d&&k(d)}e(v)}),C(()=>{var s=a();if(N(r,s,i),i&&s===void 0){var f=r.querySelector(":checked");f!==null&&(s=k(f),e(s))}r.__value=s,i=!1}),R(r)}function k(r){return"__value"in r?r.__value:r.value}const w=Symbol("class"),T=Symbol("style"),U=Symbol("is custom element"),V=Symbol("is html");function wr(r){if(p){var a=!1,e=()=>{if(!a){if(a=!0,r.hasAttribute("value")){var i=r.value;L(r,"value",null),r.value=i}if(r.hasAttribute("checked")){var s=r.checked;L(r,"checked",null),r.checked=s}}};r.__on_r=e,rr(e),lr()}}function br(r,a){a?r.hasAttribute("selected")||r.setAttribute("selected",""):r.removeAttribute("selected")}function L(r,a,e,i){var s=Y(r);p&&(s[a]=r.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&r.nodeName==="LINK")||s[a]!==(s[a]=e)&&(a==="loading"&&(r[x]=e),e==null?r.removeAttribute(a):typeof e!="string"&&B(r).includes(a)?r[a]=e:r.setAttribute(a,e))}function hr(r,a,e,i,s=!1){var f=Y(r),v=f[U],d=!f[V];let b=p&&v;b&&P(!1);var l=a||{},y=r.tagName==="OPTION";for(var S in a)S in e||(e[S]=null);e.class?e.class=nr(e.class):e[w]&&(e.class=null),e[T]&&(e.style??(e.style=null));var h=B(r);for(const t in e){let u=e[t];if(y&&t==="value"&&u==null){r.value=r.__value="",l[t]=u;continue}if(t==="class"){var E=r.namespaceURI==="http://www.w3.org/1999/xhtml";_r(r,E,u,i,a==null?void 0:a[w],e[w]),l[t]=u,l[w]=e[w];continue}if(t==="style"){dr(r,u,a==null?void 0:a[T],e[T]),l[t]=u,l[T]=e[T];continue}var A=l[t];if(!(u===A&&!(u===void 0&&r.hasAttribute(t)))){l[t]=u;var c=t[0]+t[1];if(c!=="$$")if(c==="on"){const n={},g="$$"+t;let o=t.slice(2);var O=or(o);if(ir(o)&&(o=o.slice(0,-7),n.capture=!0),!O&&A){if(u!=null)continue;r.removeEventListener(o,l[g],n),l[g]=null}if(u!=null)if(O)r[`__${o}`]=u,tr([o]);else{let F=function(K){l[t].call(this,K)};l[g]=sr(o,r,F,n)}else O&&(r[`__${o}`]=void 0)}else if(t==="style")L(r,t,u);else if(t==="autofocus")ur(r,!!u);else if(!v&&(t==="__value"||t==="value"&&u!=null))r.value=r.__value=u;else if(t==="selected"&&y)br(r,u);else{var _=t;d||(_=fr(_));var I=_==="defaultValue"||_==="defaultChecked";if(u==null&&!v&&!I)if(f[t]=null,_==="value"||_==="checked"){let n=r;const g=a===void 0;if(_==="value"){let o=n.defaultValue;n.removeAttribute(_),n.defaultValue=o,n.value=n.__value=g?o:null}else{let o=n.defaultChecked;n.removeAttribute(_),n.defaultChecked=o,n.checked=g?o:!1}}else r.removeAttribute(t);else I||h.includes(_)&&(v||typeof u!="string")?r[_]=u:typeof u!="function"&&L(r,_,u)}}}return b&&P(!0),l}function Tr(r,a,e=[],i=[],s,f=!1){Q(e,i,v=>{var d=void 0,b={},l=r.nodeName==="SELECT",y=!1;if(j(()=>{var h=a(...v.map(W)),E=hr(r,d,h,s,f);y&&l&&"value"in h&&N(r,h.value);for(let c of Object.getOwnPropertySymbols(b))h[c]||q(b[c]);for(let c of Object.getOwnPropertySymbols(h)){var A=h[c];c.description===X&&(!d||A!==d[c])&&(b[c]&&q(b[c]),b[c]=H(()=>vr(r,()=>A))),E[c]=A}d=E}),l){var S=r;C(()=>{N(S,d.value,!0),R(S)})}y=!0})}function Y(r){return r.__attributes??(r.__attributes={[U]:r.nodeName.includes("-"),[V]:r.namespaceURI===Z})}var $=new Map;function B(r){var a=$.get(r.nodeName);if(a)return a;$.set(r.nodeName,a=[]);for(var e,i=r,s=Element.prototype;s!==i;){e=ar(i);for(var f in e)e[f].set&&a.push(f);i=m(i)}return a}export{dr as a,Sr as b,Tr as c,wr as r,L as s};
