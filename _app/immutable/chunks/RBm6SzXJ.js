import{a as z,t as j,c as ke}from"./BLmdulVr.js";import{Y as ze,v as Pe,aG as Ie,h as F,B as G,e as Ue,g as k,H as Be,A as oe,C as W,z as U,D as Ne,w as Oe,F as Ke,aH as q,W as Le,q as je,Z as le,aI as re,aJ as fe,aK as ne,aL as He,V as Ze,aM as Ve,y as Ge,O as We,aq as qe,R as Xe,aN as Ye,ad as Je,a5 as ce,aO as Qe,L as et,i as tt,p as rt,t as X,n as nt,s as Y,c as C,r as M,o as Ce,f as at,aP as it,aQ as st}from"./C7ybvbG6.js";import{s as de}from"./M5C_9bRV.js";import{i as J}from"./DobID0rT.js";import{h as ut}from"./Dc5pHhiR.js";import{s as ve}from"./BXVM9lRb.js";function ot(r,e){return e}function lt(r,e,t,n){for(var i=[],s=e.length,c=0;c<s;c++)He(e[c].e,i,!0);var E=s>0&&i.length===0&&t!==null;if(E){var _=t.parentNode;Ze(_),_.append(t),n.clear(),D(r,e[0].prev,e[s-1].next)}Ve(i,()=>{for(var w=0;w<s;w++){var v=e[w];E||(n.delete(v.k),D(r,v.prev,v.next)),Ge(v.e,!E)}})}function ft(r,e,t,n,i,s=null){var c=r,E={flags:e,items:new Map,first:null},_=(e&Ie)!==0;if(_){var w=r;c=F?G(We(w)):w.appendChild(ze())}F&&Ue();var v=null,g=!1,f=qe(()=>{var m=t();return tt(m)?m:m==null?[]:Le(m)});Pe(()=>{var m=k(f),o=m.length;if(g&&o===0)return;g=o===0;let R=!1;if(F){var y=c.data===Be;y!==(o===0)&&(c=oe(),G(c),W(!1),R=!0)}if(F){for(var x=null,S,p=0;p<o;p++){if(U.nodeType===8&&U.data===Xe){c=U,R=!0,W(!1);break}var d=m[p],l=n(d,p);S=Me(U,E,x,null,d,l,p,i,e,t),E.items.set(l,S),x=S}o>0&&G(oe())}F||ct(m,E,c,i,e,n,t),s!==null&&(o===0?v?Ne(v):v=Oe(()=>s(c)):v!==null&&Ke(v,()=>{v=null})),R&&W(!0),k(f)}),F&&(c=U)}function ct(r,e,t,n,i,s,c){var N,ae,ie,se;var E=(i&Ye)!==0,_=(i&(re|ne))!==0,w=r.length,v=e.items,g=e.first,f=g,m,o=null,R,y=[],x=[],S,p,d,l;if(E)for(l=0;l<w;l+=1)S=r[l],p=s(S,l),d=v.get(p),d!==void 0&&((N=d.a)==null||N.measure(),(R??(R=new Set)).add(d));for(l=0;l<w;l+=1){if(S=r[l],p=s(S,l),d=v.get(p),d===void 0){var A=f?f.e.nodes_start:t;o=Me(A,e,o,o===null?e.first:o.next,S,p,l,n,i,c),v.set(p,o),y=[],x=[],f=o.next;continue}if(_&&dt(d,S,l,i),d.e.f&q&&(Ne(d.e),E&&((ae=d.a)==null||ae.unfix(),(R??(R=new Set)).delete(d))),d!==f){if(m!==void 0&&m.has(d)){if(y.length<x.length){var T=x[0],I;o=T.prev;var a=y[0],u=y[y.length-1];for(I=0;I<y.length;I+=1)Ee(y[I],T,t);for(I=0;I<x.length;I+=1)m.delete(x[I]);D(e,a.prev,u.next),D(e,o,a),D(e,u,T),f=T,o=u,l-=1,y=[],x=[]}else m.delete(d),Ee(d,f,t),D(e,d.prev,d.next),D(e,d,o===null?e.first:o.next),D(e,o,d),o=d;continue}for(y=[],x=[];f!==null&&f.k!==p;)f.e.f&q||(m??(m=new Set)).add(f),x.push(f),f=f.next;if(f===null)continue;d=f}y.push(d),o=d,f=d.next}if(f!==null||m!==void 0){for(var h=m===void 0?[]:Le(m);f!==null;)f.e.f&q||h.push(f),f=f.next;var O=h.length;if(O>0){var $=i&Ie&&w===0?t:null;if(E){for(l=0;l<O;l+=1)(ie=h[l].a)==null||ie.measure();for(l=0;l<O;l+=1)(se=h[l].a)==null||se.fix()}lt(e,h,$,v)}}E&&je(()=>{var ue;if(R!==void 0)for(d of R)(ue=d.a)==null||ue.apply()}),le.first=e.first&&e.first.e,le.last=o&&o.e}function dt(r,e,t,n){n&re&&fe(r.v,e),n&ne?fe(r.i,t):r.i=t}function Me(r,e,t,n,i,s,c,E,_,w){var v=(_&re)!==0,g=(_&Qe)===0,f=v?g?Je(i):ce(i):i,m=_&ne?ce(c):c,o={i:m,v:f,k:s,a:null,e:null,prev:t,next:n};try{return o.e=Oe(()=>E(r,f,m,w),F),o.e.prev=t&&t.e,o.e.next=n&&n.e,t===null?e.first=o:(t.next=o,t.e.next=o.e),n!==null&&(n.prev=o,n.e.prev=o.e),o}finally{}}function Ee(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==n;){var c=et(s);i.before(s),s=c}}function D(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function vt(r,e,t){if(t){if(r.classList.contains(e))return;r.classList.add(e)}else{if(!r.classList.contains(e))return;r.classList.remove(e)}}var Et=j('<span class="filepath"> </span>'),ht=j('<pre class="box"><code> </code></pre>'),mt=j('<div class="code-block stack"><!> <!></div>'),gt=j('<div class="controls svelte-17jcsbz"><!></div>'),pt=j('<div class="stack" aria-label="Code example"><!> <div>Result:</div> <div class="stack"><div class="box rendered svelte-17jcsbz"><!></div> <!></div></div>');function er(r,e){rt(e,!0);let t=Ce(()=>Object.fromEntries(Object.entries(e.sources).map(([v,g])=>[v,typeof g=="string"?{code:g,html:!1}:g])??[]));var n=pt(),i=C(n);ft(i,17,()=>Object.entries(k(t)),ot,(v,g,f)=>{let m=()=>k(g)[0],o=()=>k(g)[1];var R=mt(),y=C(R);{var x=l=>{var A=Et(),T=C(A,!0);M(A),X(()=>de(T,m())),z(l,A)};J(y,l=>{f!==0&&l(x)})}var S=Y(y,2);{var p=l=>{var A=ke(),T=at(A);ut(T,()=>o().code),z(l,A)},d=l=>{var A=ht(),T=C(A),I=C(T,!0);M(T),M(A),X(()=>de(I,o().code)),z(l,A)};J(S,l=>{o().html?l(p):l(d,!1)})}M(R),z(v,R)});var s=Y(i,4),c=C(s),E=C(c);ve(E,()=>e.children),M(c);var _=Y(c,2);{var w=v=>{var g=gt(),f=C(g);ve(f,()=>e.controls),M(g),z(v,g)};J(_,v=>{e.controls&&v(w)})}M(s),M(n),X(()=>vt(s,"box",!!e.controls)),z(r,n),nt()}class V{constructor(e){this.value=e}valueOf(){return this.value}}class b extends V{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}}class L extends V{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}}class B extends V{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}}const he=100,_t="⁨",wt="⁩";function yt(r,e,t){if(t===e||t instanceof L&&e instanceof L&&t.value===e.value)return!0;if(e instanceof L&&typeof t=="string"){let n=r.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===n)return!0}return!1}function me(r,e,t){return e[t]?P(r,e[t].value):(r.reportError(new RangeError("No default")),new b)}function te(r,e){const t=[],n=Object.create(null);for(const i of e)i.type==="narg"?n[i.name]=K(r,i.value):t.push(K(r,i));return{positional:t,named:n}}function K(r,e){switch(e.type){case"str":return e.value;case"num":return new L(e.value,{minimumFractionDigits:e.precision});case"var":return bt(r,e);case"mesg":return xt(r,e);case"term":return St(r,e);case"func":return Rt(r,e);case"select":return At(r,e);default:return new b}}function bt(r,{name:e}){let t;if(r.params)if(Object.prototype.hasOwnProperty.call(r.params,e))t=r.params[e];else return new b(`$${e}`);else if(r.args&&Object.prototype.hasOwnProperty.call(r.args,e))t=r.args[e];else return r.reportError(new ReferenceError(`Unknown variable: $${e}`)),new b(`$${e}`);if(t instanceof V)return t;switch(typeof t){case"string":return t;case"number":return new L(t);case"object":if(t instanceof Date)return new B(t.getTime());default:return r.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new b(`$${e}`)}}function xt(r,{name:e,attr:t}){const n=r.bundle._messages.get(e);if(!n)return r.reportError(new ReferenceError(`Unknown message: ${e}`)),new b(e);if(t){const i=n.attributes[t];return i?P(r,i):(r.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new b(`${e}.${t}`))}return n.value?P(r,n.value):(r.reportError(new ReferenceError(`No value: ${e}`)),new b(e))}function St(r,{name:e,attr:t,args:n}){const i=`-${e}`,s=r.bundle._terms.get(i);if(!s)return r.reportError(new ReferenceError(`Unknown term: ${i}`)),new b(i);if(t){const E=s.attributes[t];if(E){r.params=te(r,n).named;const _=P(r,E);return r.params=null,_}return r.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new b(`${i}.${t}`)}r.params=te(r,n).named;const c=P(r,s.value);return r.params=null,c}function Rt(r,{name:e,args:t}){let n=r.bundle._functions[e];if(!n)return r.reportError(new ReferenceError(`Unknown function: ${e}()`)),new b(`${e}()`);if(typeof n!="function")return r.reportError(new TypeError(`Function ${e}() is not callable`)),new b(`${e}()`);try{let i=te(r,t);return n(i.positional,i.named)}catch(i){return r.reportError(i),new b(`${e}()`)}}function At(r,{selector:e,variants:t,star:n}){let i=K(r,e);if(i instanceof b)return me(r,t,n);for(const s of t){const c=K(r,s.key);if(yt(r,i,c))return P(r,s.value)}return me(r,t,n)}function De(r,e){if(r.dirty.has(e))return r.reportError(new RangeError("Cyclic reference")),new b;r.dirty.add(e);const t=[],n=r.bundle._useIsolating&&e.length>1;for(const i of e){if(typeof i=="string"){t.push(r.bundle._transform(i));continue}if(r.placeables++,r.placeables>he)throw r.dirty.delete(e),new RangeError(`Too many placeables expanded: ${r.placeables}, max allowed is ${he}`);n&&t.push(_t),t.push(K(r,i).toString(r)),n&&t.push(wt)}return r.dirty.delete(e),t.join("")}function P(r,e){return typeof e=="string"?r.bundle._transform(e):De(r,e)}class Tt{constructor(e,t,n){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=n}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let n=this.bundle._intls.get(e);n||(n={},this.bundle._intls.set(e,n));let i=JSON.stringify(t);return n[i]||(n[i]=new e(this.bundle.locales,t)),n[i]}}function Z(r,e){const t=Object.create(null);for(const[n,i]of Object.entries(r))e.includes(n)&&(t[n]=i.valueOf());return t}const ge=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function It(r,e){let t=r[0];if(t instanceof b)return new b(`NUMBER(${t.valueOf()})`);if(t instanceof L)return new L(t.valueOf(),{...t.opts,...Z(e,ge)});if(t instanceof B)return new L(t.valueOf(),{...Z(e,ge)});throw new TypeError("Invalid argument to NUMBER")}const pe=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function Nt(r,e){let t=r[0];if(t instanceof b)return new b(`DATETIME(${t.valueOf()})`);if(t instanceof B)return new B(t.valueOf(),{...t.opts,...Z(e,pe)});if(t instanceof L)return new B(t.valueOf(),{...Z(e,pe)});throw new TypeError("Invalid argument to DATETIME")}const _e=new Map;function Ot(r){const e=Array.isArray(r)?r.join(" "):r;let t=_e.get(e);return t===void 0&&(t=new Map,_e.set(e,t)),t}class tr{constructor(e,{functions:t,useIsolating:n=!0,transform:i=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions={NUMBER:It,DATETIME:Nt,...t},this._useIsolating=n,this._transform=i,this._intls=Ot(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){const n=[];for(let i=0;i<e.body.length;i++){let s=e.body[i];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){n.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){n.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return n}formatPattern(e,t=null,n=null){if(typeof e=="string")return this._transform(e);let i=new Tt(this,n,t);try{return De(i,e).toString(i)}catch(s){if(i.errors&&s instanceof Error)return i.errors.push(s),new b().toString(i);throw s}}}const Q=/^(-?[a-zA-Z][\w-]*) *= */gm,we=/\.([a-zA-Z][\w-]*) *= */y,Lt=/\*?\[/y,ee=/(-?[0-9]+(?:\.([0-9]+))?)/y,Ct=/([a-zA-Z][\w-]*)/y,ye=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,Mt=/^[A-Z][A-Z0-9_-]*$/,H=/([^{}\n\r]+)/y,Dt=/([^\\"\n\r]*)/y,be=/\\([\\"])/y,xe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,$t=/^\n+/,Se=/ +$/,Ft=/ *\r?\n/g,kt=/( *)$/,zt=/{\s*/y,Re=/\s*}/y,Pt=/\[\s*/y,Ut=/\s*] */y,Bt=/\s*\(\s*/y,Kt=/\s*->\s*/y,jt=/\s*:\s*/y,Ht=/\s*,?\s*/y,Zt=/\s+/y;class rr{constructor(e){this.body=[],Q.lastIndex=0;let t=0;for(;;){let a=Q.exec(e);if(a===null)break;t=Q.lastIndex;try{this.body.push(_(a[1]))}catch(u){if(u instanceof SyntaxError)continue;throw u}}function n(a){return a.lastIndex=t,a.test(e)}function i(a,u){if(e[t]===a)return t++,!0;if(u)throw new u(`Expected ${a}`);return!1}function s(a,u){if(n(a))return t=a.lastIndex,!0;if(u)throw new u(`Expected ${a.toString()}`);return!1}function c(a){a.lastIndex=t;let u=a.exec(e);if(u===null)throw new SyntaxError(`Expected ${a.toString()}`);return t=a.lastIndex,u}function E(a){return c(a)[1]}function _(a){let u=v(),h=w();if(u===null&&Object.keys(h).length===0)throw new SyntaxError("Expected message value or attributes");return{id:a,value:u,attributes:h}}function w(){let a=Object.create(null);for(;n(we);){let u=E(we),h=v();if(h===null)throw new SyntaxError("Expected attribute value");a[u]=h}return a}function v(){let a;if(n(H)&&(a=E(H)),e[t]==="{"||e[t]==="}")return g(a?[a]:[],1/0);let u=A();return u?a?g([a,u],u.length):(u.value=T(u.value,$t),g([u],u.length)):a?T(a,Se):null}function g(a=[],u){for(;;){if(n(H)){a.push(E(H));continue}if(e[t]==="{"){a.push(f());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let N=A();if(N){a.push(N),u=Math.min(u,N.length);continue}break}let h=a.length-1,O=a[h];typeof O=="string"&&(a[h]=T(O,Se));let $=[];for(let N of a)N instanceof Ae&&(N=N.value.slice(0,N.value.length-u)),N&&$.push(N);return $}function f(){s(zt,SyntaxError);let a=m();if(s(Re))return a;if(s(Kt)){let u=y();return s(Re,SyntaxError),{type:"select",selector:a,...u}}throw new SyntaxError("Unclosed placeable")}function m(){if(e[t]==="{")return f();if(n(ye)){let[,a,u,h=null]=c(ye);if(a==="$")return{type:"var",name:u};if(s(Bt)){let O=o();if(a==="-")return{type:"term",name:u,attr:h,args:O};if(Mt.test(u))return{type:"func",name:u,args:O};throw new SyntaxError("Function names must be all upper-case")}return a==="-"?{type:"term",name:u,attr:h,args:[]}:{type:"mesg",name:u,attr:h}}return S()}function o(){let a=[];for(;;){switch(e[t]){case")":return t++,a;case void 0:throw new SyntaxError("Unclosed argument list")}a.push(R()),s(Ht)}}function R(){let a=m();return a.type!=="mesg"?a:s(jt)?{type:"narg",name:a.name,value:S()}:a}function y(){let a=[],u=0,h;for(;n(Lt);){i("*")&&(h=u);let O=x(),$=v();if($===null)throw new SyntaxError("Expected variant value");a[u++]={key:O,value:$}}if(u===0)return null;if(h===void 0)throw new SyntaxError("Expected default variant");return{variants:a,star:h}}function x(){s(Pt,SyntaxError);let a;return n(ee)?a=p():a={type:"str",value:E(Ct)},s(Ut,SyntaxError),a}function S(){if(n(ee))return p();if(e[t]==='"')return d();throw new SyntaxError("Invalid expression")}function p(){let[,a,u=""]=c(ee),h=u.length;return{type:"num",value:parseFloat(a),precision:h}}function d(){i('"',SyntaxError);let a="";for(;;){if(a+=E(Dt),e[t]==="\\"){a+=l();continue}if(i('"'))return{type:"str",value:a};throw new SyntaxError("Unclosed string literal")}}function l(){if(n(be))return E(be);if(n(xe)){let[,a,u]=c(xe),h=parseInt(a||u,16);return h<=55295||57344<=h?String.fromCodePoint(h):"�"}throw new SyntaxError("Unknown escape sequence")}function A(){let a=t;switch(s(Zt),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return I(e.slice(a,t))}return e[t-1]===" "?I(e.slice(a,t)):!1}function T(a,u){return a.replace(u,"")}function I(a){let u=a.replace(Ft,`
`),h=kt.exec(a)[1].length;return new Ae(u,h)}}}class Ae{constructor(e,t){this.value=e,this.length=t}}function Vt(r,e){return Array.isArray(e)?e.map(t=>Te(r,t)):Te(r,e)}function Te(r,e){for(const t of r)if(t.hasMessage(e))return t;return null}function $e(r,e,t,n=!0){var f,m,o,R,y,x,S,p;const[i,s]=e.split(".",2),c=Vt(r.bundles,i);if(c===null)return(m=(f=r.options).onError)==null||m.call(f,`Localization missing: "${e}"`),{value:e,attributes:{}};const E=c.getMessage(i);if(!E)return(R=(o=r.options).onError)==null||R.call(o,`Localization missing: "${e}"`),{value:e,attributes:{}};const _=s?E.attributes[s]:E.value;if(s&&_===null)return(x=(y=r.options).onError)==null||x.call(y,`Localization missing: "${e}"`),{value:e,attributes:{}};const w=[],v=_?c.formatPattern(_,t,w):"",g=n&&!s?Object.fromEntries(Object.entries(E.attributes||{}).map(([d,l])=>[d,c.formatPattern(l,t,w)])):{};for(const d of w)(p=(S=r.options).onError)==null||p.call(S,`Localization error in "${e}": ${d}`);return{value:v,attributes:g}}const Fe=Symbol("svelte-fluent");function nr(r){const e=Ce(r);return it(Fe,{getTranslation:(...n)=>$e(k(e),...n),public:{localize:(...n)=>k(e).localize(...n)}}).public}function Gt(){const r=st(Fe);if(!r)throw new Error("[svelte-fluent] FluentContext was not initialized");return r}function ar(){return Gt().public}function ir(r,e={}){return{bundles:r,options:e,localize(t,n){return $e(this,t,n,!1).value}}}export{er as E,tr as F,rr as a,nr as b,ir as c,ar as d,ft as e,L as f,Gt as g,b as h,ot as i,B as j,vt as t};
