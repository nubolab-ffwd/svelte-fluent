import{w as j,z as C,x as G,h as P,n as A,k as J,i as Q,aF as Z,aG as W,aH as X,aI as m,aJ as x,aK as ee,g as re,aL as ae,aM as se,G as H,aN as ie,U as te,aO as fe,aP as ue,aQ as le}from"./DxQPLIai.js";import{j as oe,k as ce,l as ne,n as ve,m as _e}from"./BDj5WMAP.js";import{t as de,c as he,s as be}from"./DG_37hjC.js";function ye(e,a){var r=void 0,s;j(()=>{r!==(r=a())&&(s&&(C(s),s=null),r&&(s=G(()=>{P(()=>r(e))})))})}function M(e,a={},r,s){for(var i in r){var u=r[i];a[i]!==u&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,u,s))}}function pe(e,a,r,s){var i=e.__style;if(A||i!==a){var u=de(a,s);(!A||u!==e.getAttribute("style"))&&(u==null?e.removeAttribute("style"):e.style.cssText=u),e.__style=a}else s&&(Array.isArray(s)?(M(e,r?.[0],s[0]),M(e,r?.[1],s[1],"important")):M(e,r,s));return s}function E(e,a,r=!1){if(e.multiple){if(a==null)return;if(!Q(a))return Z();for(var s of e.options)s.selected=a.includes(I(s));return}for(s of e.options){var i=I(s);if(W(i,a)){s.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function K(e){var a=new MutationObserver(()=>{E(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),X(()=>{a.disconnect()})}function Ie(e,a,r=a){var s=!0;J(e,"change",i=>{var u=i?"[selected]":":checked",_;if(e.multiple)_=[].map.call(e.querySelectorAll(u),I);else{var y=e.querySelector(u)??e.querySelector("option:not([disabled])");_=y&&I(y)}r(_)}),P(()=>{var i=a();if(E(e,i,s),s&&i===void 0){var u=e.querySelector(":checked");u!==null&&(i=I(u),r(i))}e.__value=i,s=!1}),K(e)}function I(e){return"__value"in e?e.__value:e.value}const N=Symbol("class"),T=Symbol("style"),R=Symbol("is custom element"),Y=Symbol("is html");function Ae(e){if(A){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;L(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var i=e.checked;L(e,"checked",null),e.checked=i}}};e.__on_r=r,fe(r),ue()}}function ge(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function L(e,a,r,s){var i=z(e);A&&(i[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||i[a]!==(i[a]=r)&&(a==="loading"&&(e[le]=r),r==null?e.removeAttribute(a):typeof r!="string"&&B(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function Se(e,a,r,s,i=!1,u=!1){if(A&&i&&e.tagName==="INPUT"){var _=e,y=_.type==="checkbox"?"defaultChecked":"defaultValue";y in r||Ae(_)}var d=z(e),h=d[R],w=!d[Y];let g=A&&h;g&&H(!1);var l=a||{},b=e.tagName==="OPTION";for(var S in a)S in r||(r[S]=null);r.class?r.class=he(r.class):r[N]&&(r.class=null),r[T]&&(r.style??=null);var k=B(e);for(const t in r){let f=r[t];if(b&&t==="value"&&f==null){e.value=e.__value="",l[t]=f;continue}if(t==="class"){var v=e.namespaceURI==="http://www.w3.org/1999/xhtml";be(e,v,f,s,a?.[N],r[N]),l[t]=f,l[N]=r[N];continue}if(t==="style"){pe(e,f,a?.[T],r[T]),l[t]=f,l[T]=r[T];continue}var q=l[t];if(!(f===q&&!(f===void 0&&e.hasAttribute(t)))){l[t]=f;var U=t[0]+t[1];if(U!=="$$")if(U==="on"){const n={},p="$$"+t;let o=t.slice(2);var O=_e(o);if(oe(o)&&(o=o.slice(0,-7),n.capture=!0),!O&&q){if(f!=null)continue;e.removeEventListener(o,l[p],n),l[p]=null}if(f!=null)if(O)e[`__${o}`]=f,ne([o]);else{let D=function(F){l[t].call(this,F)};l[p]=ce(o,e,D,n)}else O&&(e[`__${o}`]=void 0)}else if(t==="style")L(e,t,f);else if(t==="autofocus")ie(e,!!f);else if(!h&&(t==="__value"||t==="value"&&f!=null))e.value=e.__value=f;else if(t==="selected"&&b)ge(e,f);else{var c=t;w||(c=ve(c));var $=c==="defaultValue"||c==="defaultChecked";if(f==null&&!h&&!$)if(d[t]=null,c==="value"||c==="checked"){let n=e;const p=a===void 0;if(c==="value"){let o=n.defaultValue;n.removeAttribute(c),n.defaultValue=o,n.value=n.__value=p?o:null}else{let o=n.defaultChecked;n.removeAttribute(c),n.defaultChecked=o,n.checked=p?o:!1}}else e.removeAttribute(t);else $||k.includes(c)&&(h||typeof f!="string")?(e[c]=f,c in d&&(d[c]=te)):typeof f!="function"&&L(e,c,f)}}}return g&&H(!0),l}function we(e,a,r=[],s=[],i,u=!1,_=!1){m(r,s,y=>{var d=void 0,h={},w=e.nodeName==="SELECT",g=!1;if(j(()=>{var b=a(...y.map(re)),S=Se(e,d,b,i,u,_);g&&w&&"value"in b&&E(e,b.value);for(let v of Object.getOwnPropertySymbols(h))b[v]||C(h[v]);for(let v of Object.getOwnPropertySymbols(b)){var k=b[v];v.description===ae&&(!d||k!==d[v])&&(h[v]&&C(h[v]),h[v]=G(()=>ye(e,()=>k))),S[v]=k}d=S}),w){var l=e;P(()=>{E(l,d.value,!0),K(l)})}g=!0})}function z(e){return e.__attributes??={[R]:e.nodeName.includes("-"),[Y]:e.namespaceURI===x}}var V=new Map;function B(e){var a=e.getAttribute("is")||e.nodeName,r=V.get(a);if(r)return r;V.set(a,r=[]);for(var s,i=e,u=Element.prototype;u!==i;){s=se(i);for(var _ in s)s[_].set&&r.push(_);i=ee(i)}return r}export{pe as a,Ie as b,we as c,Ae as r,L as s};
