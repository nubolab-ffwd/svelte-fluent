var m=Object.defineProperty;var b=(t,e,s)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var p=(t,e,s)=>b(t,typeof e!="symbol"?e+"":e,s);import{c as g,a as d,t as v}from"./disclose-version.DWFQ1GLF.js";import"./legacy.DYHUuDO6.js";import{p as D,ax as F,f as u,a as y,g as c,o as i,s as E,au as x}from"./runtime.BDe5IQ9X.js";import{b as w,c as P,F as A,a as k,E as T}from"./fluent.BzuGEpzG.js";import{i as B}from"./lifecycle.CUMxj4Ah.js";import{s as S}from"./slot.D7GjNQUJ.js";import{c as _}from"./index-client.C6te1myf.js";import{L as R}from"./Localized.DrpzECWW.js";class $ extends Array{static from(e){return e instanceof this?e:new this(e)}}class j extends ${constructor(e){if(super(),Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.iterator](){const e=this;let s=0;return{next(){return e.length<=s&&e.push(e.iterator.next()),e[s++]}}}touchNext(e=1){let s=0;for(;s++<e;){const n=this[this.length-1];if(n&&n.done)break;this.push(this.iterator.next())}return this[this.length-1]}}function z(t,e){D(e,!0);class s{constructor(C){p(this,"iterable");Object.defineProperty(this,"iterable",{value:C,enumerable:!1})}[Symbol.iterator](){return this.iterable[Symbol.iterator]()}}const n=F(),l=_();let a=i(()=>new s(j.from(e.bundles))),h=i(()=>P([...c(a)],{async onError(r){await n,l("error",r)}}));w(()=>c(h));var o=g(),f=u(o);S(f,e,"default",{},null),d(t,o),y()}function I(t,e){D(e,!1);const s="hello = Hello, world!",n=new A("en");n.addResource(new k(s)),B(),z(t,{bundles:[n],$$events:{error:l=>console.warn(l)},children:(l,a)=>{R(l,{id:"hello"})},$$slots:{default:!0}}),y()}const L=`<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">script</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#C586C0">	import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">FluentBundle</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">FluentResource</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> '@fluent/bundle'</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">	import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">FluentProvider</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">Localized</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#CE9178"> '@nubolab-ffwd/svelte-fluent'</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">	const</span><span style="color:#4FC1FF"> translations</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">'hello = Hello, world!'</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">	const</span><span style="color:#4FC1FF"> bundle</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> FluentBundle</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">'en'</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#9CDCFE">	bundle</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">addResource</span><span style="color:#D4D4D4">(</span><span style="color:#569CD6">new</span><span style="color:#DCDCAA"> FluentResource</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">translations</span><span style="color:#D4D4D4">));</span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#569CD6">script</span><span style="color:#808080">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#4EC9B0">FluentProvider</span><span style="color:#9CDCFE"> bundles</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">[</span><span style="color:#9CDCFE">bundle</span><span style="color:#D4D4D4">]</span><span style="color:#569CD6">}</span><span style="color:#C586C0"> on</span><span style="color:#D4D4D4">:</span><span style="color:#4EC9B0">error</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">msg</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=></span><span style="color:#9CDCFE"> console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">warn</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">msg</span><span style="color:#D4D4D4">)</span><span style="color:#569CD6">}</span><span style="color:#808080">></span></span>
<span class="line"><span style="color:#808080">	&#x3C;</span><span style="color:#4EC9B0">Localized</span><span style="color:#9CDCFE"> id</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"hello"</span><span style="color:#808080"> /></span></span>
<span class="line"><span style="color:#808080">&#x3C;/</span><span style="color:#4EC9B0">FluentProvider</span><span style="color:#808080">></span></span>
<span class="line"></span></code></pre>`;function N(t){T(t,{sources:{"App.svelte":{code:L,html:!0}},children:(e,s)=>{I(e,{})},$$slots:{default:!0}})}const q={title:"FluentProvider (deprecated)",menuTitle:"FluentProvider"},{title:H,menuTitle:Y}=q;var O=v(`<h1 id="title"></h1> <blockquote><p>The FluentProvider component is <strong>deprecated in v1</strong>.
Please review the Migration Guide for a replacement.</p></blockquote> <p>The <code>FluentProvider</code> component provides context for all other components and stores of <code>svelte-fluent</code>.</p> <p>Typically there is only a single instance of <code>FluentProvider</code> wrapping the top level of the application
(e.g. in a <code>__layout.svelte</code> file in SvelteKit or similar). For specialized needs itâ€™s possible to nest
multiple <code>FluentProvider</code> instances.</p> <p>The mandatory <code>bundles</code> argument takes a list of <a href="https://projectfluent.org/fluent.js/bundle/classes/fluentbundle.html" rel="noopener noreferrer" target="_blank"><code>FluentBundle</code></a> instances. When resolving a
translation each of the provided bundles will be tried in sequence until the translation message is found making
it possible to split your translations across several files and use different bundle configurations (like attached
functions) for each of them.</p> <p>The <code>FluentProvider</code> component also emits <code>error</code> events whenever a translation message fails to parse or render.</p> <h2 id="example"><a href="#example">Example</a></h2> <!> <h2 id="props"><a href="#props">Props</a></h2> <div class="responsive-table"><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Default</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>bundles</code></td><td align="left"><code>Iterable&lt;FluentBundle&gt;</code></td><td align="left"><code>undefined</code></td><td align="left">A list (or iterable) of <code>FluentBundle</code> instances</td></tr></tbody></table></div> <h2 id="slots"><a href="#slots">Slots</a></h2> <div class="responsive-table"><table><thead><tr><th align="left">Name</th><th align="left">Prop</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>default</code></td><td align="left">-</td><td align="left">-</td><td align="left">Child components of this slot use the configured bundles for translations</td></tr></tbody></table></div> <h2 id="events"><a href="#events">Events</a></h2> <div class="responsive-table"><table><thead><tr><th align="left">Name</th><th align="left">Type of event <code>details</code></th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>error</code></td><td align="left"><code>string</code></td><td align="left">Emitted whenever a translation message fails to parse or render</td></tr></tbody></table></div>`,1);function Z(t){var e=O(),s=u(e);s.textContent=H;var n=E(s,14);N(n),x(12),d(t,e)}export{Z as _,q as m};
