import{n as f}from"./runtime.BjjJ-t6S.js";import{l}from"./disclose-version.CsGTd31q.js";import{i as o}from"./props.0_0yWFtg.js";function v(e,n,u){if(e.multiple)return d(e,n);for(var t of e.options){var r=a(t);if(o(r,n)){t.selected=!0;return}}(!u||n!==void 0)&&(e.selectedIndex=-1)}function _(e,n){f(()=>{var u=new MutationObserver(()=>{var t=e.__value;v(e,t)});return u.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{u.disconnect()}})}function b(e,n,u=n){var t=!0;l(e,"change",()=>{var r;if(e.multiple)r=[].map.call(e.querySelectorAll(":checked"),a);else{var i=e.querySelector(":checked");r=i&&a(i)}u(r)}),f(()=>{var r=n();if(v(e,r,t),t&&r===void 0){var i=e.querySelector(":checked");i!==null&&(r=a(i),u(r))}e.__value=r,t=!1}),_(e)}function d(e,n){for(var u of e.options)u.selected=~n.indexOf(a(u))}function a(e){return"__value"in e?e.__value:e.value}export{b};
