import{aI as R,a5 as U,a7 as j,h as $,n as g,z as W,B as P,i as X,aJ as Z,aK as m,aL as x,D as ee,aM as re,aN as ae,aO as se,g as te,aP as ie,aQ as ue,aR as M,w as H,aS as fe,aT as le,q as oe,aU as ce,aV as ne}from"./C7J-w_O5.js";import{g as ve,j as _e,k as de,n as he,l as be}from"./CORrgv4F.js";import{t as ye,c as Ae,s as pe}from"./B9HaEcKr.js";function ge(e,a){var r=void 0,s;R(()=>{r!==(r=a())&&(s&&(U(s),s=null),r&&(s=j(()=>{$(()=>r(e))})))})}function q(e,a={},r,s){for(var t in r){var f=r[t];a[t]!==f&&(r[t]==null?e.style.removeProperty(t):e.style.setProperty(t,f,s))}}function Te(e,a,r,s){var t=e.__style;if(g||t!==a){var f=ye(a,s);(!g||f!==e.getAttribute("style"))&&(f==null?e.removeAttribute("style"):e.style.cssText=f),e.__style=a}else s&&(Array.isArray(s)?(q(e,r?.[0],s[0]),q(e,r?.[1],s[1],"important")):q(e,r,s));return s}function w(e,a,r=!1){if(e.multiple){if(a==null)return;if(!X(a))return Z();for(var s of e.options)s.selected=a.includes(E(s));return}for(s of e.options){var t=E(s);if(m(t,a)){s.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function B(e){var a=new MutationObserver(()=>{w(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),x(()=>{a.disconnect()})}function Pe(e,a,r=a){var s=new WeakSet,t=!0;W(e,"change",f=>{var _=f?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(_),E);else{var h=e.querySelector(_)??e.querySelector("option:not([disabled])");d=h&&E(h)}r(d),P!==null&&s.add(P)}),$(()=>{var f=a();if(e===document.activeElement){var _=ee??P;if(s.has(_))return}if(w(e,f,t),t&&f===void 0){var d=e.querySelector(":checked");d!==null&&(f=E(d),r(f))}e.__value=f,t=!1}),B(e)}function E(e){return"__value"in e?e.__value:e.value}const I=Symbol("class"),k=Symbol("style"),D=Symbol("is custom element"),Y=Symbol("is html"),Se=M?"link":"LINK",Ne=M?"input":"INPUT",Ie=M?"option":"OPTION",ke=M?"select":"SELECT";function Ee(e){if(g){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;O(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;O(e,"checked",null),e.checked=t}}};e.__on_r=r,oe(r),ce()}}function Le(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function O(e,a,r,s){var t=z(e);g&&(t[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName===Se)||t[a]!==(t[a]=r)&&(a==="loading"&&(e[ne]=r),r==null?e.removeAttribute(a):typeof r!="string"&&F(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function we(e,a,r,s,t=!1,f=!1){if(g&&t&&e.nodeName===Ne){var _=e,d=_.type==="checkbox"?"defaultChecked":"defaultValue";d in r||Ee(_)}var h=z(e),b=h[D],A=!h[Y];let T=g&&b;T&&H(!1);var l=a||{},S=e.nodeName===Ie;for(var y in a)y in r||(r[y]=null);r.class?r.class=Ae(r.class):r[I]&&(r.class=null),r[k]&&(r.style??=null);var L=F(e);for(const i in r){let u=r[i];if(S&&i==="value"&&u==null){e.value=e.__value="",l[i]=u;continue}if(i==="class"){var N=e.namespaceURI==="http://www.w3.org/1999/xhtml";pe(e,N,u,s,a?.[I],r[I]),l[i]=u,l[I]=r[I];continue}if(i==="style"){Te(e,u,a?.[k],r[k]),l[i]=u,l[k]=r[k];continue}var n=l[i];if(!(u===n&&!(u===void 0&&e.hasAttribute(i)))){l[i]=u;var G=i[0]+i[1];if(G!=="$$")if(G==="on"){const v={},p="$$"+i;let o=i.slice(2);var C=be(o);if(ve(o)&&(o=o.slice(0,-7),v.capture=!0),!C&&n){if(u!=null)continue;e.removeEventListener(o,l[p],v),l[p]=null}if(u!=null)if(C)e[`__${o}`]=u,de([o]);else{let J=function(Q){l[i].call(this,Q)};l[p]=_e(o,e,J,v)}else C&&(e[`__${o}`]=void 0)}else if(i==="style")O(e,i,u);else if(i==="autofocus")fe(e,!!u);else if(!b&&(i==="__value"||i==="value"&&u!=null))e.value=e.__value=u;else if(i==="selected"&&S)Le(e,u);else{var c=i;A||(c=he(c));var V=c==="defaultValue"||c==="defaultChecked";if(u==null&&!b&&!V)if(h[i]=null,c==="value"||c==="checked"){let v=e;const p=a===void 0;if(c==="value"){let o=v.defaultValue;v.removeAttribute(c),v.defaultValue=o,v.value=v.__value=p?o:null}else{let o=v.defaultChecked;v.removeAttribute(c),v.defaultChecked=o,v.checked=p?o:!1}}else e.removeAttribute(i);else V||L.includes(c)&&(b||typeof u!="string")?(e[c]=u,c in h&&(h[c]=le)):typeof u!="function"&&O(e,c,u)}}}return T&&H(!0),l}function qe(e,a,r=[],s=[],t=[],f,_=!1,d=!1){re(t,r,s,h=>{var b=void 0,A={},T=e.nodeName===ke,l=!1;if(R(()=>{var y=a(...h.map(te)),L=we(e,b,y,f,_,d);l&&T&&"value"in y&&w(e,y.value);for(let n of Object.getOwnPropertySymbols(A))y[n]||U(A[n]);for(let n of Object.getOwnPropertySymbols(y)){var N=y[n];n.description===ie&&(!b||N!==b[n])&&(A[n]&&U(A[n]),A[n]=j(()=>ge(e,()=>N))),L[n]=N}b=L}),T){var S=e;$(()=>{w(S,b.value,!0),B(S)})}l=!0})}function z(e){return e.__attributes??={[D]:e.nodeName.includes("-"),[Y]:e.namespaceURI===ae}}var K=new Map;function F(e){var a=e.getAttribute("is")||e.nodeName,r=K.get(a);if(r)return r;K.set(a,r=[]);for(var s,t=e,f=Element.prototype;f!==t;){s=ue(t);for(var _ in s)s[_].set&&r.push(_);t=se(t)}return r}export{Te as a,Pe as b,qe as c,Ee as r,O as s};
