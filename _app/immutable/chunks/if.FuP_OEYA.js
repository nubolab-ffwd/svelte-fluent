import{v as y,h as n,j as A,E as p,H as R,A as g,B as F,C as _,D as o,w as u,F as h,z as N}from"./runtime.CtoP0lCI.js";function k(d,v,b=!1){n&&A();var e=d,a=null,s=null,f=null,m=b?p:0,l=!1;const E=(r,t=!0)=>{l=!0,i(t,r)},i=(r,t)=>{if(f===(f=r))return;let c=!1;if(n){const T=e.data===R;f===T&&(e=g(),F(e),_(!1),c=!0)}f?(a?o(a):t&&(a=u(()=>t(e))),s&&h(s,()=>{s=null})):(s?o(s):t&&(s=u(()=>t(e))),a&&h(a,()=>{a=null})),c&&_(!0)};y(()=>{l=!1,v(E),l||i(null,null)},m),n&&(e=N)}export{k as i};
