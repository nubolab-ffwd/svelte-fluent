import{av as b,at as o,g as f,ad as a,G as l}from"./disclose-version.Glus66My.js";import{n as i}from"./equality.BKhFfLg7.js";let r=!1;function v(u,e,n){const s=n[e]??(n[e]={store:null,source:o(void 0),unsubscribe:i});if(s.store!==u)if(s.unsubscribe(),s.store=u??null,u==null)s.source.v=void 0,s.unsubscribe=i;else{var t=!0;s.unsubscribe=d(u,c=>{t?s.source.v=c:a(s.source,c)}),t=!1}return f(s.source)}function _(){const u={};return b(()=>{for(var e in u)u[e].unsubscribe()}),u}function y(u){var e=r;try{return r=!1,[u(),r]}finally{r=e}}function d(u,e,n){if(u==null)return e(void 0),i;const s=l(()=>u.subscribe(e,n));return s.unsubscribe?()=>s.unsubscribe():s}export{v as a,y as c,_ as s};
